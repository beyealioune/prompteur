

<!-- <div class="container mat-elevation-z4" [class.fake-fullscreen]="isFakeFullscreen">
  <mat-card class="video-card" *ngIf="isVideoVisible">
    <div class="video-container" [class.ios-video-container]="isIOS()">
      <video #videoElement
        class="mirror"
        [class.mirror]="isLiveCamera"
        autoplay
        muted
        playsinline
        webkit-playsinline
        disablePictureInPicture
        controlslist="nodownload nofullscreen">
      </video>
      <div class="texte-overlay">
        <div class="trait"></div>
        <div class="texte" #texteElement>
          {{ texte }}
        </div>
      </div>
      <div *ngIf="isRecording" class="timer">
        ‚è±Ô∏è {{ recordingTime }}s
      </div> -->
      <!-- Bouton quitter fake plein √©cran -->
      <!-- <button
        *ngIf="isFakeFullscreen"
        class="exit-fake-fullscreen"
        mat-icon-button
        (click)="toggleFakeFullscreen()"
        matTooltip="Quitter le plein √©cran">
        <mat-icon>fullscreen_exit</mat-icon>
      </button>
    </div>
  </mat-card>

  <mat-form-field appearance="fill" class="full-width" *ngIf="!isFakeFullscreen">
    <mat-label>Teleprompter text</mat-label>
    <textarea
      matInput
      [(ngModel)]="texte"
      (ngModelChange)="onTexteChange()"
      placeholder="Enter your script here..."
      rows="4">
    </textarea>
  </mat-form-field>

  <div class="actions-column" *ngIf="!isFakeFullscreen">
    <div class="speed-controls">
      <button mat-mini-fab color="primary" (click)="decreaseSpeed()">-</button>
      <span class="speed-label">{{ vitesse }}s : seconds</span>
      <button mat-mini-fab color="primary" (click)="increaseSpeed()">+</button>
    </div>
    <div class="two-button-row">
      <button mat-raised-button class="start" (click)="startCamera()">üì∑ Camera</button>
      <button mat-raised-button class="record" (click)="startRecording()" [disabled]="isRecording || !stream">üé¨ Recording</button>
    </div>
    
    <div *ngIf="countdown > 0" class="countdown">{{ countdown }}</div>
    
    <button mat-raised-button class="stop" (click)="stopRecording()" [disabled]="!isRecording">üõë Stop</button>
    
    <button mat-raised-button 
            color="warn" 
            (click)="stopRecording()" 
            [disabled]="!isRecording"
            style="width: 100%;">
      üõë Stop recording
    </button> -->
    <!-- BOUTON POUR ACTIVER FAKE FULLSCREEN -->
    <!-- <mat-icon class="fullscreen-icon" 
              (click)="toggleFakeFullscreen()"
              matTooltip="Fullscreen">
      {{ isFakeFullscreen ? 'fullscreen_exit' : 'fullscreen' }}
    </mat-icon>
  </div>
</div>

<app-payment-popup
  *ngIf="showPaymentPopup"
  [show]="showPaymentPopup"
  (closed)="showPaymentPopup = false">
</app-payment-popup> -->



<!-- HTML COMPLET MIS √Ä JOUR AVEC LA NOUVELLE STRUCTURE TAILWIND -->
<div id="teleprompter-app" class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white font-inter">
  <!-- Header -->
  <header class="px-4 py-3 flex items-center justify-between">
    <div class="flex items-center space-x-3">
      <div class="w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-lg flex items-center justify-center">
        <i class="fa-solid fa-video text-white text-sm"></i>
      </div>
      <h1 class="text-lg font-semibold">TelePrompter</h1>
    </div>
    <button class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center">
      <i class="fa-solid fa-ellipsis-vertical text-gray-400"></i>
    </button>
  </header>

  <!-- Camera Preview Section -->
  <section class="px-4 mb-6">
    <div class="relative bg-black rounded-3xl overflow-hidden h-[400px] shadow-2xl">
      <div class="absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center">
        <div class="text-center">
          <i class="fa-solid fa-camera text-6xl text-gray-600 mb-4"></i>
          <p class="text-gray-400">Camera Preview</p>
        </div>
      </div>

      <!-- Recording Timer -->
      <div id="recording-timer" class="absolute top-4 left-4 bg-danger px-3 py-1 rounded-full flex items-center space-x-2 hidden recording-pulse">
        <div class="w-2 h-2 bg-white rounded-full"></div>
        <span class="text-sm font-medium">00:45</span>
      </div>

      <!-- Mirror Toggle & Fullscreen Toggle -->
      <div class="absolute top-4 right-4 flex space-x-2">
        <button id="fullscreen-toggle" class="w-10 h-10 glass-effect rounded-full flex items-center justify-center">
          <i class="fa-solid fa-expand text-white text-sm"></i>
        </button>
        <button id="mirror-toggle" class="w-10 h-10 glass-effect rounded-full flex items-center justify-center">
          <i class="fa-solid fa-repeat text-white text-sm"></i>
        </button>
      </div>

      <!-- Teleprompter Text Overlay -->
      <div id="teleprompter-overlay" class="absolute inset-x-4 bottom-20 top-20 overflow-hidden">
        <div class="h-full flex flex-col justify-center relative">
          <div class="absolute left-0 right-0 h-0.5 bg-primary shadow-lg shadow-primary/50 z-10" style="top: 50%;"></div>
          <div class="text-center text-white text-xl leading-relaxed font-medium px-4 py-8 teleprompter-text">
            <p class="mb-6">Welcome to your teleprompter session. This text will scroll smoothly as you record your video content.</p>
            <p class="mb-6">The highlighted line helps you maintain focus and read at the perfect pace for your presentation.</p>
            <p>Professional content creation made simple and intuitive.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Speed Controls -->
  <section class="px-4 mb-6">
    <div class="bg-gray-800/50 rounded-2xl p-4">
      <div class="flex items-center justify-between">
        <span class="text-gray-400 text-sm font-medium">Scroll Speed</span>
        <div class="flex items-center space-x-4">
          <button class="w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
            <i class="fa-solid fa-minus text-white text-sm"></i>
          </button>
          <div class="px-4 py-2 bg-primary/20 rounded-lg min-w-[60px] text-center">
            <span class="text-primary font-semibold">2.5x</span>
          </div>
          <button class="w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors">
            <i class="fa-solid fa-plus text-white text-sm"></i>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Action Buttons -->
  <section class="px-4 mb-6">
    <div class="grid grid-cols-2 gap-3 mb-3">
      <button id="start-camera"
        class="bg-gradient-to-r from-primary to-secondary h-14 rounded-xl flex items-center justify-center space-x-2 font-semibold shadow-md w-full">
        <i class="fa-solid fa-video"></i>
        <span>Start Camera</span>
      </button>
      <button id="start-recording"
        class="bg-gradient-to-r from-danger to-red-500 h-14 rounded-xl flex items-center justify-center space-x-2 font-semibold shadow-md w-full opacity-50">
        <i class="fa-solid fa-circle"></i>
        <span>Record</span>
      </button>
    </div>
    <div>
      <button id="stop-recording"
        class="bg-red-600 hover:bg-red-700 h-14 w-full rounded-xl flex items-center justify-center space-x-2 font-semibold shadow-md">
        <i class="fa-solid fa-stop"></i>
        <span>Stop</span>
      </button>
    </div>
  </section>

  <!-- Script Input -->
  <section class="px-4 mb-6">
    <div class="bg-gray-800/50 rounded-2xl p-4">
      <label class="block text-gray-400 text-sm font-medium mb-3">Your Script</label>
      <textarea id="script-text" placeholder="Enter or paste your script here..." class="w-full h-32 bg-gray-700/50 border border-gray-600 rounded-xl p-4 text-white placeholder-gray-400 resize-none focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors"></textarea>
    </div>
  </section>
</div>

<!-- Payment Modal -->
<div id="payment-modal" class="fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 hidden">
  <div class="bg-gray-800 rounded-3xl p-6 w-full max-w-sm">
    <div class="text-center mb-6">
      <div class="w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center mx-auto mb-4">
        <i class="fa-solid fa-crown text-white text-2xl"></i>
      </div>
      <h3 class="text-xl font-bold mb-2">Upgrade to Pro</h3>
      <p class="text-gray-400 text-sm">Unlock unlimited recording and advanced features</p>
    </div>
    <div class="space-y-3 mb-6">
      <div class="flex items-center space-x-3">
        <i class="fa-solid fa-check text-success"></i>
        <span class="text-sm">Unlimited recording time</span>
      </div>
      <div class="flex items-center space-x-3">
        <i class="fa-solid fa-check text-success"></i>
        <span class="text-sm">4K video quality</span>
      </div>
      <div class="flex items-center space-x-3">
        <i class="fa-solid fa-check text-success"></i>
        <span class="text-sm">Custom fonts & themes</span>
      </div>
    </div>
    <div class="space-y-3">
      <button class="w-full bg-gradient-to-r from-primary to-secondary h-12 rounded-xl font-semibold">
        Start Free Trial
      </button>
      <button id="close-modal" class="w-full bg-gray-700 h-12 rounded-xl font-medium">
        Maybe Later
      </button>
    </div>
  </div>
</div>
